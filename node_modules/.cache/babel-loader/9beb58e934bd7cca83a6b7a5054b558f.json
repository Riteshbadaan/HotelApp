{"ast":null,"code":"var _jsxFileName = \"/home/ritesh/react/hotelapp/src/containers/Upload/Upload.js\";\nimport React, { Component } from 'react';\nimport axios from '../../axios';\nimport { storage } from '../../firebase/index';\n\nclass Upload extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      hotel: {\n        imageurl: null,\n        name: null,\n        address: null,\n        description: null,\n        price: null,\n        rating: null\n      },\n      image: null,\n      city: null,\n      star: null\n    };\n\n    this.storeimage = event => {\n      this.setState({\n        image: event.target.files[0]\n      });\n      this.imagefunc();\n    };\n\n    this.imagefunc = () => {\n      const uploadtask = storage.ref(`images/${this.state.image.name}`).put(this.state.image);\n      uploadtask.on(\"state_changed\", snapshot => {}, error => {\n        console.log(error);\n      }, () => {\n        storage.ref(\"images\").child(this.state.image.name).getDownloadURL().then(url => {\n          //console.log(url)\n          let dummyhotel = { ...this.state.hotel\n          };\n          dummyhotel[\"imageurl\"] = url;\n          this.setState({\n            hotel: dummyhotel\n          });\n        });\n      });\n    };\n\n    this.store2 = (event, name) => {\n      if (name === \"city\") {\n        this.setState({\n          city: event.target.value\n        });\n      } else {\n        this.setState({\n          star: event.target.value\n        });\n      }\n    };\n\n    this.storevalues = (event, name) => {\n      let dummyhotel = { ...this.state.hotel\n      };\n      dummyhotel[name] = event.target.value;\n      this.setState({\n        hotel: dummyhotel\n      });\n    };\n\n    this.onsubmit = event => {\n      event.preventDefault();\n      let finalurl = null;\n      axios.post(\"hotels/\" + this.state.city + \"/\" + this.state.star + \".json\", this.state.hotel).then(res => {\n        console.log(res.data);\n      }).catch(err => {\n        console.log(\"Error\");\n      });\n    };\n  }\n\n  render() {\n    //console.log(this.state.image)\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      onChange: this.storeimage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"City\",\n      onChange: event => this.store2(event, \"city\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Star-Hotel\",\n      onChange: event => this.store2(event, \"star\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Name\",\n      onChange: event => this.storevalues(event, \"name\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Address\",\n      onChange: event => this.storevalues(event, \"address\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Description\",\n      onChange: event => this.storevalues(event, \"description\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Price\",\n      onChange: event => this.storevalues(event, \"price\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Rating\",\n      onChange: event => this.storevalues(event, \"rating\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.onsubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 21\n      }\n    }, \"Save\")));\n  }\n\n}\n\nexport default Upload;","map":{"version":3,"sources":["/home/ritesh/react/hotelapp/src/containers/Upload/Upload.js"],"names":["React","Component","axios","storage","Upload","state","hotel","imageurl","name","address","description","price","rating","image","city","star","storeimage","event","setState","target","files","imagefunc","uploadtask","ref","put","on","snapshot","error","console","log","child","getDownloadURL","then","url","dummyhotel","store2","value","storevalues","onsubmit","preventDefault","finalurl","post","res","data","catch","err","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport axios from '../../axios'\nimport {storage} from '../../firebase/index'  \n\nclass Upload extends Component{\n\n    state={\n        hotel:{\n            imageurl:null,\n            name:null,\n            address:null,\n            description:null,\n            price:null,\n            rating:null,\n        },\n        image:null,\n        city:null,\n        star:null,\n    }\n    storeimage=(event)=>{\n        this.setState({\n            image:event.target.files[0]\n        })\n        this.imagefunc();\n    }\n    imagefunc=()=>{\n        const uploadtask = storage.ref(`images/${this.state.image.name}`).put(this.state.image);\n        uploadtask.on(\n            \"state_changed\",\n            snapshot => {},\n            error => {\n                console.log(error);\n            },\n            () => {\n                storage\n                .ref(\"images\")\n                .child(this.state.image.name)\n                .getDownloadURL()\n                .then(url=>{\n                    //console.log(url)\n                    let dummyhotel={...this.state.hotel}\n                    dummyhotel[\"imageurl\"]=url;\n                    this.setState({\n                        hotel:dummyhotel\n                    })\n                });\n            }\n        )\n    }\n    store2=(event,name)=>{\n        if(name===\"city\"){\n            this.setState({\n                city:event.target.value\n            })\n        }else{\n            this.setState({\n                star:event.target.value\n            })\n        }\n    }\n\n    storevalues=(event,name)=>{\n        let dummyhotel={...this.state.hotel}\n        dummyhotel[name]=event.target.value;\n        this.setState({\n            hotel:dummyhotel\n        })\n    }\n\n    onsubmit=(event)=>{\n        event.preventDefault();\n        let finalurl=null;\n       \n            axios.post(\"hotels/\"+this.state.city+\"/\"+this.state.star+\".json\",this.state.hotel)\n            .then(res=>{\n                console.log(res.data)\n            })\n            .catch(err=>{\n                console.log(\"Error\")\n            })\n    }\n\n    render(){\n        //console.log(this.state.image)\n        return(\n            <div>\n                <form>\n                    <input type=\"file\" onChange={this.storeimage}></input>\n                    <input type=\"text\" placeholder=\"City\" onChange={(event)=>this.store2(event,\"city\")}></input>\n                    <input type=\"text\" placeholder=\"Star-Hotel\" onChange={(event)=>this.store2(event,\"star\")}></input>\n                    <input type=\"text\" placeholder=\"Name\" onChange={(event)=>this.storevalues(event,\"name\")}></input>\n                    <input type=\"text\" placeholder=\"Address\" onChange={(event)=>this.storevalues(event,\"address\")}></input>\n                    <input type=\"text\" placeholder=\"Description\" onChange={(event)=>this.storevalues(event,\"description\")}></input>\n                    <input type=\"text\" placeholder=\"Price\" onChange={(event)=>this.storevalues(event,\"price\")}></input>\n                    <input type=\"text\" placeholder=\"Rating\" onChange={(event)=>this.storevalues(event,\"rating\")}></input>\n                    <button onClick={this.onsubmit}>Save</button>\n                </form>\n             </div>\n        )\n    }\n}\n\nexport default Upload;"]},"metadata":{},"sourceType":"module"}