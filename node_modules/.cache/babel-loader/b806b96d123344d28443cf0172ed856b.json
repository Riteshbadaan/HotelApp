{"ast":null,"code":"import axios from 'axios';\nexport const authstart = () => {\n  return {\n    type: \"AUTH_START\"\n  };\n};\nexport const authsuccess = (token, userid) => {\n  return {\n    type: \"AUTH_SUCCESS\",\n    token: token,\n    userid: userid\n  };\n};\nexport const authfail = error => {\n  return {\n    type: \"AUTH_FAIL\",\n    error: error\n  };\n};\nexport const logout = () => {\n  return {\n    type: \"LOGOUT\"\n  };\n};\nexport const booksuccess = () => {\n  return {\n    type: \"BOOK_HOTEL\"\n  };\n};\nexport const bookhotel = token => {\n  return dispatch => {\n    axios.post(\"bookings.json?auth+\" + token, details).then(res => {\n      dispatch(booksuccess());\n    }).catch(err => {});\n  };\n};\nexport const auth = (email, password, siginup, route) => {\n  let authdata = {\n    email: email,\n    password: password,\n    returnSecureToken: true\n  };\n  let url = \"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyAxcsB7Wsoy3OFDVFWrsxd9MsiTKw1s6Wk\";\n\n  if (!siginup) {\n    url = \"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyAxcsB7Wsoy3OFDVFWrsxd9MsiTKw1s6Wk\";\n  }\n\n  return dispatch => {\n    dispatch(authstart());\n    axios.post(url, authdata).then(res => {\n      console.log(res.data);\n      dispatch(authsuccess(res.data.idToken, res.data.localId));\n      route.push(\"/search\");\n    }).catch(err => {\n      console.log(err);\n      dispatch(authfail(err.response.data.error));\n    });\n  };\n};","map":{"version":3,"sources":["/home/ritesh/react/hotelapp/src/store/actions/Authactions.js"],"names":["axios","authstart","type","authsuccess","token","userid","authfail","error","logout","booksuccess","bookhotel","dispatch","post","details","then","res","catch","err","auth","email","password","siginup","route","authdata","returnSecureToken","url","console","log","data","idToken","localId","push","response"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,SAAS,GAAG,MAAM;AAC3B,SAAM;AACFC,IAAAA,IAAI,EAAC;AADH,GAAN;AAGH,CAJM;AAMP,OAAO,MAAMC,WAAW,GAAG,CAACC,KAAD,EAAOC,MAAP,KAAkB;AACzC,SAAM;AACFH,IAAAA,IAAI,EAAC,cADH;AAEFE,IAAAA,KAAK,EAACA,KAFJ;AAGFC,IAAAA,MAAM,EAACA;AAHL,GAAN;AAKH,CANM;AAQP,OAAO,MAAMC,QAAQ,GAAIC,KAAD,IAAW;AAC/B,SAAM;AACFL,IAAAA,IAAI,EAAC,WADH;AAEFK,IAAAA,KAAK,EAACA;AAFJ,GAAN;AAIH,CALM;AAMP,OAAO,MAAMC,MAAM,GAAC,MAAI;AACpB,SAAM;AACFN,IAAAA,IAAI,EAAC;AADH,GAAN;AAGH,CAJM;AAKP,OAAO,MAAMO,WAAW,GAAC,MAAI;AACzB,SAAM;AACFP,IAAAA,IAAI,EAAC;AADH,GAAN;AAGH,CAJM;AAKP,OAAO,MAAMQ,SAAS,GAAEN,KAAD,IAAS;AAC5B,SAAOO,QAAQ,IAAE;AACbX,IAAAA,KAAK,CAACY,IAAN,CAAW,wBAAsBR,KAAjC,EAAuCS,OAAvC,EACCC,IADD,CACMC,GAAG,IAAE;AACPJ,MAAAA,QAAQ,CAACF,WAAW,EAAZ,CAAR;AACH,KAHD,EAICO,KAJD,CAIOC,GAAG,IAAE,CAEX,CAND;AAOH,GARD;AASH,CAVM;AAYP,OAAO,MAAMC,IAAI,GAAG,CAACC,KAAD,EAAOC,QAAP,EAAgBC,OAAhB,EAAwBC,KAAxB,KAAkC;AAClD,MAAIC,QAAQ,GAAC;AACTJ,IAAAA,KAAK,EAACA,KADG;AAETC,IAAAA,QAAQ,EAACA,QAFA;AAGTI,IAAAA,iBAAiB,EAAC;AAHT,GAAb;AAKA,MAAIC,GAAG,GAAC,uGAAR;;AACA,MAAG,CAACJ,OAAJ,EAAY;AACRI,IAAAA,GAAG,GAAC,mHAAJ;AACH;;AACD,SAAOd,QAAQ,IAAI;AACfA,IAAAA,QAAQ,CAACV,SAAS,EAAV,CAAR;AACAD,IAAAA,KAAK,CAACY,IAAN,CAAWa,GAAX,EAAeF,QAAf,EACCT,IADD,CACMC,GAAG,IAAE;AACPW,MAAAA,OAAO,CAACC,GAAR,CAAYZ,GAAG,CAACa,IAAhB;AACAjB,MAAAA,QAAQ,CAACR,WAAW,CAACY,GAAG,CAACa,IAAJ,CAASC,OAAV,EAAkBd,GAAG,CAACa,IAAJ,CAASE,OAA3B,CAAZ,CAAR;AACAR,MAAAA,KAAK,CAACS,IAAN,CAAW,SAAX;AACH,KALD,EAMCf,KAND,CAMOC,GAAG,IAAE;AACRS,MAAAA,OAAO,CAACC,GAAR,CAAYV,GAAZ;AACAN,MAAAA,QAAQ,CAACL,QAAQ,CAACW,GAAG,CAACe,QAAJ,CAAaJ,IAAb,CAAkBrB,KAAnB,CAAT,CAAR;AACH,KATD;AAUH,GAZD;AAaH,CAvBM","sourcesContent":["import axios from 'axios'\n\nexport const authstart = () => {\n    return{\n        type:\"AUTH_START\"\n    }\n}\n\nexport const authsuccess = (token,userid) => {\n    return{\n        type:\"AUTH_SUCCESS\",\n        token:token,\n        userid:userid\n    }\n}\n\nexport const authfail = (error) => {\n    return{\n        type:\"AUTH_FAIL\",\n        error:error\n    }\n}\nexport const logout=()=>{\n    return{\n        type:\"LOGOUT\"\n    }\n}\nexport const booksuccess=()=>{\n    return{\n        type:\"BOOK_HOTEL\"\n    }\n}\nexport const bookhotel=(token)=>{\n    return dispatch=>{\n        axios.post(\"bookings.json?auth+\"+token,details)\n        .then(res=>{\n            dispatch(booksuccess());\n        })\n        .catch(err=>{\n\n        })\n    }\n}\n\nexport const auth = (email,password,siginup,route) => {\n    let authdata={\n        email:email,\n        password:password,\n        returnSecureToken:true\n    }\n    let url=\"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyAxcsB7Wsoy3OFDVFWrsxd9MsiTKw1s6Wk\";\n    if(!siginup){\n        url=\"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyAxcsB7Wsoy3OFDVFWrsxd9MsiTKw1s6Wk\"\n    }\n    return dispatch => {\n        dispatch(authstart())\n        axios.post(url,authdata)\n        .then(res=>{\n            console.log(res.data)\n            dispatch(authsuccess(res.data.idToken,res.data.localId))\n            route.push(\"/search\")\n        })\n        .catch(err=>{\n            console.log(err);\n            dispatch(authfail(err.response.data.error))\n        })\n    }\n}"]},"metadata":{},"sourceType":"module"}