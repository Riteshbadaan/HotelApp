{"ast":null,"code":"var _jsxFileName = \"/home/ritesh/react/hotelapp/src/containers/Upload/Upload.js\";\nimport React, { Component } from 'react';\nimport axios from '../../axios';\nimport { storage } from '../../firebase/index';\n\nclass Upload extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      image: null\n    };\n\n    this.storeimage = event => {\n      this.setState({\n        image: event.target.files[0]\n      });\n    };\n\n    this.onsubmit = event => {\n      event.preventDefault();\n      const uploadtask = storage.ref(`images/${this.state.image.name}`).put(this.state.image);\n      uploadtask.on(\"state_changed\", snapshot => {}, error => {\n        console.log(error);\n      }, () => {\n        storage.ref(\"images\").child(this.state.image.name).getDownloadURL().then(url => {\n          console.log(url);\n        });\n      });\n    };\n  }\n\n  render() {\n    console.log(this.state.image);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      onChange: this.storeimage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.onsubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 21\n      }\n    }, \"Save\")));\n  }\n\n}\n\nexport default Upload;","map":{"version":3,"sources":["/home/ritesh/react/hotelapp/src/containers/Upload/Upload.js"],"names":["React","Component","axios","storage","Upload","state","image","storeimage","event","setState","target","files","onsubmit","preventDefault","uploadtask","ref","name","put","on","snapshot","error","console","log","child","getDownloadURL","then","url","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,SAAQC,OAAR,QAAsB,sBAAtB;;AAEA,MAAMC,MAAN,SAAqBH,SAArB,CAA8B;AAAA;AAAA;AAAA,SAE1BI,KAF0B,GAEpB;AACFC,MAAAA,KAAK,EAAC;AADJ,KAFoB;;AAAA,SAM1BC,UAN0B,GAMdC,KAAD,IAAS;AAChB,WAAKC,QAAL,CAAc;AACVH,QAAAA,KAAK,EAACE,KAAK,CAACE,MAAN,CAAaC,KAAb,CAAmB,CAAnB;AADI,OAAd;AAGH,KAVyB;;AAAA,SAY1BC,QAZ0B,GAYhBJ,KAAD,IAAS;AACdA,MAAAA,KAAK,CAACK,cAAN;AACA,YAAMC,UAAU,GAAGX,OAAO,CAACY,GAAR,CAAa,UAAS,KAAKV,KAAL,CAAWC,KAAX,CAAiBU,IAAK,EAA5C,EAA+CC,GAA/C,CAAmD,KAAKZ,KAAL,CAAWC,KAA9D,CAAnB;AACAQ,MAAAA,UAAU,CAACI,EAAX,CACI,eADJ,EAEIC,QAAQ,IAAI,CAAE,CAFlB,EAGIC,KAAK,IAAI;AACLC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,OALL,EAMI,MAAM;AACFjB,QAAAA,OAAO,CACNY,GADD,CACK,QADL,EAECQ,KAFD,CAEO,KAAKlB,KAAL,CAAWC,KAAX,CAAiBU,IAFxB,EAGCQ,cAHD,GAICC,IAJD,CAIMC,GAAG,IAAE;AACPL,UAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;AACH,SAND;AAOH,OAdL;AAgBH,KA/ByB;AAAA;;AAiC1BC,EAAAA,MAAM,GAAE;AACJN,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKjB,KAAL,CAAWC,KAAvB;AACA,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,QAAQ,EAAE,KAAKC,UAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAEI;AAAQ,MAAA,OAAO,EAAE,KAAKK,QAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ,CADJ,CADJ;AAQH;;AA3CyB;;AA8C9B,eAAeR,MAAf","sourcesContent":["import React, { Component } from 'react'\nimport axios from '../../axios'\nimport {storage} from '../../firebase/index'  \n\nclass Upload extends Component{\n\n    state={\n        image:null\n    }\n\n    storeimage=(event)=>{\n        this.setState({\n            image:event.target.files[0]\n        })\n    }\n\n    onsubmit=(event)=>{\n        event.preventDefault();\n        const uploadtask = storage.ref(`images/${this.state.image.name}`).put(this.state.image);\n        uploadtask.on(\n            \"state_changed\",\n            snapshot => {},\n            error => {\n                console.log(error);\n            },\n            () => {\n                storage\n                .ref(\"images\")\n                .child(this.state.image.name)\n                .getDownloadURL()\n                .then(url=>{\n                    console.log(url)\n                });\n            }\n        )\n    }\n\n    render(){\n        console.log(this.state.image)\n        return(\n            <div>\n                <form>\n                    <input type=\"file\" onChange={this.storeimage}></input>\n                    <button onClick={this.onsubmit}>Save</button>\n                </form>\n             </div>\n        )\n    }\n}\n\nexport default Upload;"]},"metadata":{},"sourceType":"module"}