{"ast":null,"code":"import axios from '../../axios';\nexport const fetchaccountdetails_success = user => {\n  return {\n    type: \"ACCOUNTDETAILS_SUCCESS\",\n    user: user\n  };\n};\nexport const fetchaccountdetails = (token, userid) => {\n  return dispatch => {\n    axios.get(\"https://hotelapp-f223c.firebaseio.com/users.json?auth=\" + token + '&orderBy=\"userId\"&equalTo=\"' + userid + '\"').then(res => {\n      dispatch(fetchaccountdetails_success(res.data));\n    }).catch(err => {\n      console.log(\"Error in Accountactions\");\n    });\n  };\n};\nexport const saveaccountdetails_success = user => {\n  return {\n    type: \"SAVEACCOUTNDETAILS_SUCCESS\",\n    user,\n    user\n  };\n};\nexport const saveaccountdetails = (user, token, userid) => {\n  return dispatch => {\n    // console.log(userid)\n    axios.get(\"https://hotelapp-f223c.firebaseio.com/users.json?auth=\" + token + '&orderBy=\"userId\"&equalTo=\"' + userid + '\"').then(res => {\n      // console.log(res.data)\n      let key = Object.keys(res.data);\n      console.log(\"Key\", key[0]);\n      axios.put(\"https://hotelapp-f223c.firebaseio.com/users/\" + key[0] + \".json?auth=\" + token, user).then(res => {\n        dispatch(saveaccountdetails_success(user));\n      }).catch(err => {\n        console.log(\"Error in Save Account\");\n      });\n    }).catch(err => {\n      console(\"ERROR\");\n    });\n  };\n};","map":{"version":3,"sources":["/home/ritesh/react/hotelapp/src/store/actions/Accountactions.js"],"names":["axios","fetchaccountdetails_success","user","type","fetchaccountdetails","token","userid","dispatch","get","then","res","data","catch","err","console","log","saveaccountdetails_success","saveaccountdetails","key","Object","keys","put"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,aAAlB;AAEA,OAAO,MAAMC,2BAA2B,GAACC,IAAI,IAAE;AAC3C,SAAM;AACFC,IAAAA,IAAI,EAAC,wBADH;AAEFD,IAAAA,IAAI,EAACA;AAFH,GAAN;AAIH,CALM;AAOP,OAAO,MAAME,mBAAmB,GAAG,CAACC,KAAD,EAAOC,MAAP,KAAkB;AACjD,SAAOC,QAAQ,IAAI;AACfP,IAAAA,KAAK,CAACQ,GAAN,CAAU,2DAAyDH,KAAzD,GAA+D,6BAA/D,GAA6FC,MAA7F,GAAoG,GAA9G,EACCG,IADD,CACMC,GAAG,IAAE;AACPH,MAAAA,QAAQ,CAACN,2BAA2B,CAACS,GAAG,CAACC,IAAL,CAA5B,CAAR;AACH,KAHD,EAICC,KAJD,CAIOC,GAAG,IAAE;AACRC,MAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ;AACH,KAND;AAOH,GARD;AASH,CAVM;AAYP,OAAO,MAAMC,0BAA0B,GAAGd,IAAI,IAAI;AAC9C,SAAM;AACFC,IAAAA,IAAI,EAAC,4BADH;AAEFD,IAAAA,IAFE;AAEGA,IAAAA;AAFH,GAAN;AAIH,CALM;AAOP,OAAO,MAAMe,kBAAkB,GAAG,CAACf,IAAD,EAAMG,KAAN,EAAYC,MAAZ,KAAuB;AACrD,SAAOC,QAAQ,IAAI;AACf;AACAP,IAAAA,KAAK,CAACQ,GAAN,CAAU,2DAAyDH,KAAzD,GAA+D,6BAA/D,GAA6FC,MAA7F,GAAoG,GAA9G,EACCG,IADD,CACMC,GAAG,IAAE;AACP;AACA,UAAIQ,GAAG,GAACC,MAAM,CAACC,IAAP,CAAYV,GAAG,CAACC,IAAhB,CAAR;AACAG,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAkBG,GAAG,CAAC,CAAD,CAArB;AACAlB,MAAAA,KAAK,CAACqB,GAAN,CAAU,iDAA+CH,GAAG,CAAC,CAAD,CAAlD,GAAsD,aAAtD,GAAoEb,KAA9E,EAAoFH,IAApF,EACCO,IADD,CACMC,GAAG,IAAE;AACPH,QAAAA,QAAQ,CAACS,0BAA0B,CAACd,IAAD,CAA3B,CAAR;AACH,OAHD,EAICU,KAJD,CAIOC,GAAG,IAAE;AACRC,QAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ;AACH,OAND;AAOH,KAZD,EAaCH,KAbD,CAaOC,GAAG,IAAE;AACRC,MAAAA,OAAO,CAAC,OAAD,CAAP;AACH,KAfD;AAiBH,GAnBD;AAoBH,CArBM","sourcesContent":["import axios from '../../axios'\n\nexport const fetchaccountdetails_success=user=>{\n    return{\n        type:\"ACCOUNTDETAILS_SUCCESS\",\n        user:user\n    }\n}\n\nexport const fetchaccountdetails = (token,userid) => {\n    return dispatch => {\n        axios.get(\"https://hotelapp-f223c.firebaseio.com/users.json?auth=\"+token+'&orderBy=\"userId\"&equalTo=\"'+userid+'\"')\n        .then(res=>{\n            dispatch(fetchaccountdetails_success(res.data))\n        })\n        .catch(err=>{\n            console.log(\"Error in Accountactions\")\n        })\n    }\n}\n\nexport const saveaccountdetails_success = user => {\n    return{\n        type:\"SAVEACCOUTNDETAILS_SUCCESS\",\n        user,user\n    }\n}\n\nexport const saveaccountdetails = (user,token,userid) => {\n    return dispatch => {\n        // console.log(userid)\n        axios.get(\"https://hotelapp-f223c.firebaseio.com/users.json?auth=\"+token+'&orderBy=\"userId\"&equalTo=\"'+userid+'\"')\n        .then(res=>{\n            // console.log(res.data)\n            let key=Object.keys(res.data)\n            console.log(\"Key\",key[0])\n            axios.put(\"https://hotelapp-f223c.firebaseio.com/users/\"+key[0]+\".json?auth=\"+token,user)\n            .then(res=>{\n                dispatch(saveaccountdetails_success(user))\n            })\n            .catch(err=>{\n                console.log(\"Error in Save Account\")\n            })\n        })\n        .catch(err=>{\n            console(\"ERROR\")\n        })\n        \n    }\n}"]},"metadata":{},"sourceType":"module"}